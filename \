#/usr/bin/python

import sys, getopt

class Mode:
    def __init__(self, name, options):
        self.name = name
        self.options = options

def parseInputArguments(arguments):
    modes = [Mode('backup', 'm'),
             Mode('work', 'mdD'),
             Mode('transfer', 'mdD'),
             Mode('tree', 'm')]
    errorMsg = ""
    for mode in modes:
        try:
            opts, args = getopt.getopt(argv, mode.options, [mode.name])
            return mode
        except Exception:
            pass
    print('micsync.py: Valid syntax is:'
    for mode in modes:
        print('--' + mode.name + ' [-' + mode.options + ']' 
    return None

def main(argv):
    parseInputArguments(argv)

if __name__ == "__main__":
    main(sys.argv[1:])
